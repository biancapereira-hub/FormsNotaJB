<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Ordem de Serviço</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f0f0f0;
}

#talao {
  width: 148mm;
  height: 210mm;
  background: #fff;
  padding: 10mm;
  margin: auto;
  color: #000;
  box-sizing: border-box;
}

.topo {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}

.logo {
  width: 80px;
}

h2 {
  margin: 0;
  font-size: 18px;
}

.linha {
  display: flex;
  gap: 10px;
  margin-bottom: 5px;
}

.linha label {
  width: 100px;
  font-weight: bold;
  font-size: 12px;
}

input {
  border: none;
  border-bottom: 1px solid #000;
  width: 100%;
  font-size: 12px;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
  font-size: 12px;
}

table th, table td {
  border: 1px solid #000;
  padding: 4px;
  text-align: center;
}

.total-geral {
  margin-top: 10px;
  display: flex;
  justify-content: flex-end;
  font-size: 14px;
}

.rodape {
  margin-top: 15px;
  font-size: 11px;
  text-align: center;
}

.assinatura {
  margin-top: 20px;
  border-top: 1px solid #000;
  width: 60%;
  text-align: center;
  margin-left: auto;
  margin-right: auto;
}
</style>
</head>

#corpo do formulario com calculo
<body>

<div id="talao">

  <div class="topo">
    <img src="logo-jonas-bikes.png" class="logo">
    <h2>ORDEM DE SERVIÇO</h2>
  </div>

  <div class="linha">
    <label>Data:</label>
    <input type="text">
  </div>

  <div class="linha">
    <label>Cliente:</label>
    <input type="text">
  </div>

  <div class="linha">
    <label>Endereço:</label>
    <input type="text">
  </div>

  <div class="linha">
    <label>CPF/CNPJ:</label>
    <input type="text">
  </div>

  <div class="linha">
    <label>Fone:</label>
    <input type="text">
  </div>

  <table>
    <thead>
      <tr>
        <th>QTD</th>
        <th>DESCRIÇÃO</th>
        <th>PREÇO UNIT</th>
        <th>TOTAL</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><input type="number" class="qtd"></td>
        <td><input></td>
        <td><input type="number" class="preco"></td>
        <td><input class="total-linha" readonly></td>
      </tr>
      <tr>
        <td><input type="number" class="qtd"></td>
        <td><input></td>
        <td><input type="number" class="preco"></td>
        <td><input class="total-linha" readonly></td>
      </tr>
      <tr>
        <td><input type="number" class="qtd"></td>
        <td><input></td>
        <td><input type="number" class="preco"></td>
        <td><input class="total-linha" readonly></td>
      </tr>
    </tbody>
  </table>

  <div class="total-geral">
    <strong>TOTAL: R$ <span id="totalGeral">0.00</span></strong>
  </div>

  <div class="rodape">
    (17) 99755-2141 · Av. Arapuã, 2815 – Jardim Santo Expedito<br>
    @jonas_bikes_jales
  </div>

  <div class="assinatura">
    Assinatura da Loja
  </div>
</div>

<button onclick="gerarPDF()" style="display:block;margin:20px auto;">
  Gerar PDF
</button>

<script>
function calcular() {
  let totalGeral = 0;

  document.querySelectorAll("tbody tr").forEach(linha => {
    const qtd = linha.querySelector(".qtd").value || 0;
    const preco = linha.querySelector(".preco").value || 0;
    const totalLinha = qtd * preco;

    linha.querySelector(".total-linha").value = totalLinha.toFixed(2);
    totalGeral += totalLinha;
  });

  document.getElementById("totalGeral").innerText = totalGeral.toFixed(2);
}

document.addEventListener("input", calcular);

function gerarPDF() {
  const elemento = document.getElementById("talao");

  html2pdf()
    .set({
      margin: 0,
      filename: 'ordem-de-servico-jonas-bikes.pdf',
      image: { type: 'jpeg', quality: 0.98 },
      html2canvas: { scale: 2 },
      jsPDF: { unit: 'mm', format: 'a5', orientation: 'portrait' }
    })
    .from(elemento)
    .save();
}
</script>

</body>
</html>
