<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Recibo Jonas Bikes</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body {
  font-family: Arial, sans-serif;
  background: #eee;
  padding: 20px;
}
label {
  display: block;
  margin-top: 10px;
}
input {
  width: 300px;
}
</style>
</head>

<body>

<h2>Gerar Recibo</h2>

<label>Cliente:
  <input id="cliente">
</label>

<label>Endereço:
  <input id="endereco">
</label>

<label>CPF/CNPJ:
  <input id="cpf">
</label>

<label>Fone:
  <input id="fone">
</label>

<label>Descrição:
  <input id="desc">
</label>

<label>Qtd:
  <input id="qtd" type="number">
</label>

<label>Preço:
  <input id="preco" type="number">
</label>

<br><br>
<button onclick="gerarPDF()">Gerar PDF</button>

<script src="recibo.js"></script>
</body>
</html>

<script>
function gerarPDF() {
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF('p', 'mm', 'a4');

  // Dados
  const cliente = document.getElementById('cliente').value;
  const endereco = document.getElementById('endereco').value;
  const cpf = document.getElementById('cpf').value;
  const fone = document.getElementById('fone').value;
  const desc = document.getElementById('desc').value;
  const qtd = Number(document.getElementById('qtd').value || 0);
  const preco = Number(document.getElementById('preco').value || 0);
  const total = qtd * preco;

  let y = 20;

  // ===== CABEÇALHO =====
  pdf.setFontSize(22);
  pdf.text('JONAS BIKES', 20, y);

  pdf.setFontSize(9);
  pdf.text('(17) 99755-2141', 140, y);
  pdf.text('Av. Arapuã, 2815 – Jardim Santo Expedito', 140, y + 4);
  pdf.text('@jonas_bikes_jales', 140, y + 8);

  y += 15;
  pdf.line(20, y, 190, y);

  // ===== TÍTULO =====
  y += 10;
  pdf.setFontSize(14);
  pdf.text('RECIBO DE VENDA', 105, y, { align: 'center' });

  y += 10;

  // ===== DADOS DO CLIENTE =====
  pdf.setFontSize(10);
  pdf.text(`Cliente: ${cliente}`, 20, y);
  y += 6;
  pdf.text(`Endereço: ${endereco}`, 20, y);
  y += 6;
  pdf.text(`CPF/CNPJ: ${cpf}    Fone: ${fone}`, 20, y);

  y += 10;

  // ===== TABELA (CABEÇALHO) =====
  pdf.setFillColor(0);
  pdf.rect(20, y, 170, 8, 'F');
  pdf.setTextColor(255);
  pdf.text('QTD', 22, y + 6);
  pdf.text('DESCRIÇÃO', 45, y + 6);
  pdf.text('PREÇO', 140, y + 6);
  pdf.text('TOTAL', 165, y + 6);

  pdf.setTextColor(0);
  y += 8;

  // ===== TABELA (LINHA) =====
  pdf.rect(20, y, 170, 10);
  pdf.text(String(qtd), 22, y + 7);
  pdf.text(desc, 45, y + 7);
  pdf.text(preco.toFixed(2), 140, y + 7);
  pdf.text(total.toFixed(2), 165, y + 7);

  y += 15;

  // ===== TOTAL =====
  pdf.setFontSize(12);
  pdf.text(`TOTAL: R$ ${total.toFixed(2)}`, 150, y);

  // ===== RODAPÉ =====
  y += 10;
  pdf.line(20, y, 190, y);
  y += 5;
  pdf.setFontSize(9);
  pdf.text('RECIBO DE VENDA · Jonas Bikes', 105, y, { align: 'center' });

  // ===== NOME DO ARQUIVO =====
  const hoje = new Date().toISOString().slice(0,10);
  const nomeArquivo = `recibo-${cliente || 'cliente'}-${hoje}.pdf`
    .replace(/\s+/g, '_');

  pdf.save(nomeArquivo);
}
</script>
